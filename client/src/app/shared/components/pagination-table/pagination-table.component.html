<table mat-table class="centralize-grid"
       [dataSource]="(dataSource$ | async)! | paginate: {id: paginationId, itemsPerPage: itemsPerPage, currentPage: currentDisplayedPage, totalItems: totalItems}">
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: displayedColumns"></tr>

  <ng-container [matColumnDef]="positionColumn">
    <th mat-header-cell *matHeaderCellDef> No. </th>
    <td mat-cell *matCellDef="let entity; let currentIndex = index"> {{calculatePosition(currentIndex)}} </td>
  </ng-container>

  <ng-container *ngFor="let columnDetail of columnDetails" [matColumnDef]="columnDetail.field">
    <th mat-header-cell *matHeaderCellDef> {{columnDetail.label}} </th>
    <td mat-cell *matCellDef="let entity"> {{entity[columnDetail.field]}} </td>
  </ng-container>

  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" [colSpan]="displayedColumns.length">
      <ng-content select="[noDataBody]"></ng-content>
    </td>
  </tr>
</table>

<div class="pagination-footer">
  <pagination-controls [id]="paginationId"
                       (pageChange)="getPage($event)"></pagination-controls>
</div>
